---
title: "Fase 2: El Plan"
---

import { Callout } from 'nextra/components'
import RalphAccessGate from '../../components/RalphAccessGate'

# LecciÃ³n 3.5: Fase 2 - El Plan

<RalphAccessGate>

## De Specs a Tareas

Ya tienes specs claras. Ahora necesitas convertirlas en **tareas atÃ³micas** que Claude pueda ejecutar una por una.

La clave: **cada tarea debe ser completable en UNA iteraciÃ³n** (tÃ­picamente 15-45 minutos).

---

## Â¿QuÃ© es una Tarea AtÃ³mica?

Una tarea atÃ³mica tiene estas caracterÃ­sticas:

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div className="p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700/50">
    <h4 className="font-bold text-blue-600 dark:text-blue-400">âœ… AtÃ³mica</h4>
    <ul className="mt-2 space-y-1 text-sm text-slate-600 dark:text-gray-400">
      <li>â€¢ Tiene un objetivo Ãºnico y claro</li>
      <li>â€¢ Se puede verificar si estÃ¡ completa</li>
      <li>â€¢ No depende de tareas pendientes</li>
      <li>â€¢ Cabe en una iteraciÃ³n de contexto</li>
    </ul>
  </div>
  <div className="p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-700/50">
    <h4 className="font-bold text-red-600 dark:text-red-400">âŒ No AtÃ³mica</h4>
    <ul className="mt-2 space-y-1 text-sm text-slate-600 dark:text-gray-400">
      <li>â€¢ "Implementar el backend"</li>
      <li>â€¢ "Hacer que funcione"</li>
      <li>â€¢ Depende de algo no hecho</li>
      <li>â€¢ Requiere mÃºltiples sesiones</li>
    </ul>
  </div>
</div>

### Ejemplos

| âŒ No AtÃ³mica | âœ… AtÃ³mica |
|--------------|-----------|
| Crear sistema de auth | Crear modelo User en Prisma |
| Implementar API | Crear endpoint GET /posts |
| AÃ±adir tests | Escribir test para createUser() |
| Mejorar UI | AÃ±adir botÃ³n de logout al header |

---

## Estructura del PLAN.md

```markdown
# PLAN.md

## ğŸ“Š Estado del Proyecto
- **Inicio:** 2024-01-15
- **Ãšltima actualizaciÃ³n:** 2024-01-15 14:30
- **Iteraciones completadas:** 5
- **Progreso estimado:** 40%

## âœ… Completadas
- [x] Inicializar proyecto con npm init
- [x] Instalar dependencias base (express, typescript)
- [x] Configurar TypeScript (tsconfig.json)
- [x] Crear estructura de carpetas
- [x] Configurar ESLint y Prettier

## ğŸ”„ En Progreso
- [ ] Crear modelo User con Prisma

## ğŸ“‹ Pendientes

### Fase: Base de Datos
- [ ] Configurar Prisma con SQLite
- [ ] Crear modelo User (id, email, password, createdAt)
- [ ] Crear modelo Post (id, title, content, authorId)
- [ ] Generar y ejecutar migraciones

### Fase: AutenticaciÃ³n
- [ ] Crear endpoint POST /auth/register
- [ ] Crear endpoint POST /auth/login
- [ ] Implementar generaciÃ³n de JWT
- [ ] Crear middleware de verificaciÃ³n
- [ ] Escribir tests para auth

### Fase: API de Posts
- [ ] Crear endpoint GET /posts (listar)
- [ ] Crear endpoint GET /posts/:id (detalle)
- [ ] Crear endpoint POST /posts (crear)
- [ ] Crear endpoint PUT /posts/:id (editar)
- [ ] Crear endpoint DELETE /posts/:id (eliminar)
- [ ] AÃ±adir paginaciÃ³n a GET /posts
- [ ] Escribir tests para posts

### Fase: FinalizaciÃ³n
- [ ] Revisar todos los tests
- [ ] Documentar endpoints en README
- [ ] Limpiar cÃ³digo y comentarios

## ğŸš« Bloqueados
(ninguno actualmente)

## ğŸ“ Notas
- Priorizar auth antes que posts
- Cada endpoint debe tener al menos un test
```

---

## TÃ©cnica: DescomposiciÃ³n Progresiva

Si una tarea parece grande, descomponla:

```
"Implementar autenticaciÃ³n"
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Crear modelo User           â”‚
â”‚ 2. Endpoint de registro        â”‚
â”‚ 3. Endpoint de login           â”‚
â”‚ 4. GeneraciÃ³n de JWT           â”‚
â”‚ 5. Middleware de verificaciÃ³n  â”‚
â”‚ 6. Tests de auth               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Cada una de estas es atÃ³mica y verificable.

---

## El Orden Importa

Organiza las tareas para minimizar dependencias:

```
âœ… CORRECTO                      âŒ INCORRECTO
1. Crear modelo User             1. Crear endpoint /posts
2. Crear endpoint registro       2. Crear middleware auth
3. Crear endpoint login          3. Crear modelo User
4. Middleware auth               4. Crear endpoint login
5. Endpoint posts (protegido)    5. Crear endpoint registro
```

En el orden correcto, cada tarea puede completarse sin depender de algo pendiente.

---

## TÃ©cnica: Fases

Agrupa tareas relacionadas en fases:

```markdown
### Fase 1: Setup (2 tareas)
- [ ] Inicializar proyecto
- [ ] Configurar TypeScript

### Fase 2: Base de Datos (4 tareas)
- [ ] Configurar Prisma
- [ ] Modelo User
- [ ] Modelo Post
- [ ] Migraciones

### Fase 3: Auth (5 tareas)
...
```

Esto ayuda a Claude a entender el contexto de cada tarea.

---

## Crear el Plan con Claude

<Callout type="info">
  Pro tip: Usa Claude para generar el plan inicial, luego revÃ­salo.
</Callout>

Prompt para generar plan:

```
Tengo estas specs para un proyecto:
[pegar PROMPT_build.md]

Genera un PLAN.md con tareas atÃ³micas, organizadas por fases.
Cada tarea debe:
1. Ser completable en 15-45 minutos
2. Tener un criterio de verificaciÃ³n claro
3. No depender de tareas pendientes

Formato:
- [ ] DescripciÃ³n clara de la tarea
```

---

## VerificaciÃ³n del Plan

Antes de lanzar Ralph, verifica:

- [ ] Â¿Cada tarea tiene un objetivo Ãºnico?
- [ ] Â¿El orden minimiza dependencias?
- [ ] Â¿Hay suficiente detalle para ejecutar sin preguntas?
- [ ] Â¿Los criterios de "completado" son claros?
- [ ] Â¿Hay fases lÃ³gicas?

</RalphAccessGate>
